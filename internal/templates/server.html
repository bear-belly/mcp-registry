{{define "server-content"}}
<div class="server-details two-panel-layout">
    <div class="panel info-panel">
        <div class="server-header">
            <h2>{{.Data.Name}}</h2>
            <span class="status status-{{.Data.Status}}">{{.Data.Status}}</span>
        </div>
        <div class="server-body">
            <p class="description">{{.Data.Description}}</p>
            <div class="meta-info">
                <div class="info-item">
                    <label>Transport:</label>
                    <span>{{.Data.Transport}}</span>
                </div>
                <div class="info-item">
                    <label>Created:</label>
                    <span>{{.Data.CreatedAt.Format "Jan 02, 2006"}}</span>
                </div>
                <div class="info-item">
                    <label>URL:</label>
                    <a href="{{.Data.URL}}" target="_blank">{{.Data.URL}}</a>
                </div>
            </div>
        </div>
    </div>
    {{if .Data.Config}}
    <div class="panel config-panel">
        <div class="config-section">
            <div class="config-header-row">
                <h3>Configuration</h3>
                <button class="btn-copy" onclick="copyConfig(this)">
                    <svg class="copy-icon" viewBox="0 0 16 16" width="16" height="16">
                        <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path>
                        <path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                    </svg>
                    <span class="copy-btn-text">Copy</span>
                </button>
            </div>
            <div class="config-content">
                    <pre id="configContent" style="margin: 0; padding: 1.5rem; white-space: pre-wrap; word-wrap: break-word; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace; font-size: 0.98rem; line-height: 1.6; color: #222; text-align: left; overflow-x: auto; background: transparent;">{{.ConfigJSON}}</pre>
            </div>
        </div>
    </div>
    {{end}}
</div>
{{end}}

{{define "scripts"}}
<script>
function copyConfig(btn) {
    const configContent = document.getElementById('configContent').textContent;
    navigator.clipboard.writeText(configContent).then(function() {
        const btnText = btn.querySelector('.copy-btn-text');
        if (btnText) {
            btnText.textContent = 'Copied!';
            btn.disabled = true;
            setTimeout(function() {
                btnText.textContent = 'Copy';
                btn.disabled = false;
            }, 1200);
        }
    });
}
</script>
{{end}}